{% extends "base.html" %}

{% block title %}Your Permissions - SLRD Project Management{% endblock %}
{% block page_title %}Your Permissions{% endblock %}

{% block content %}
<div class="permissions-overview">
    <div class="content-card">
        <div class="card-header">
            <h3>Your Access Rights</h3>
            <p>Review your current permissions across different modules</p>
        </div>
        
        <div class="permissions-grid">
            <div class="permission-module">
                <h5><i class="fas fa-project-diagram"></i> Projects</h5>
                <div class="permissions-list">
                    {% if permissions.get('Proj', {}).get('View') %}
                        <span class="permission-badge granted"><i class="fas fa-eye"></i> View</span>
                    {% endif %}
                    {% if permissions.get('Proj', {}).get('Add') %}
                        <span class="permission-badge granted"><i class="fas fa-plus"></i> Add</span>
                    {% endif %}
                    {% if permissions.get('Proj', {}).get('Edit') %}
                        <span class="permission-badge granted"><i class="fas fa-edit"></i> Edit</span>
                    {% endif %}
                    {% if permissions.get('Proj', {}).get('Delete') %}
                        <span class="permission-badge granted"><i class="fas fa-trash"></i> Delete</span>
                    {% endif %}
                </div>
            </div>
            
            <div class="permission-module">
                <h5><i class="fas fa-users"></i> Project Team</h5>
                <div class="permissions-list">
                    {% if permissions.get('Proj_team', {}).get('View') %}
                        <span class="permission-badge granted"><i class="fas fa-eye"></i> View</span>
                    {% endif %}
                    {% if permissions.get('Proj_team', {}).get('Add') %}
                        <span class="permission-badge granted"><i class="fas fa-plus"></i> Add</span>
                    {% endif %}
                    {% if permissions.get('Proj_team', {}).get('Edit') %}
                        <span class="permission-badge granted"><i class="fas fa-edit"></i> Edit</span>
                    {% endif %}
                    {% if permissions.get('Proj_team', {}).get('Delete') %}
                        <span class="permission-badge granted"><i class="fas fa-trash"></i> Delete</span>
                    {% endif %}
                </div>
            </div>
            
            <div class="permission-module">
                <h5><i class="fas fa-file-alt"></i> Project Documents</h5>
                <div class="permissions-list">
                    {% if permissions.get('Proj_doc', {}).get('View') %}
                        <span class="permission-badge granted"><i class="fas fa-eye"></i> View</span>
                    {% endif %}
                    {% if permissions.get('Proj_doc', {}).get('Add') %}
                        <span class="permission-badge granted"><i class="fas fa-plus"></i> Add</span>
                    {% endif %}
                    {% if permissions.get('Proj_doc', {}).get('Edit') %}
                        <span class="permission-badge granted"><i class="fas fa-edit"></i> Edit</span>
                    {% endif %}
                    {% if permissions.get('Proj_doc', {}).get('Delete') %}
                        <span class="permission-badge granted"><i class="fas fa-trash"></i> Delete</span>
                    {% endif %}
                    {% if permissions.get('Proj_doc', {}).get('Download') %}
                        <span class="permission-badge granted"><i class="fas fa-download"></i> Download</span>
                    {% endif %}
                </div>
            </div>
            
            <div class="permission-module">
                <h5><i class="fas fa-comments"></i> Project Discussion</h5>
                <div class="permissions-list">
                    {% if permissions.get('Proj_Dis_', {}).get('View') %}
                        <span class="permission-badge granted"><i class="fas fa-eye"></i> View</span>
                    {% endif %}
                    {% if permissions.get('Proj_Dis_', {}).get('Add') %}
                        <span class="permission-badge granted"><i class="fas fa-plus"></i> Add</span>
                    {% endif %}
                    {% if permissions.get('Proj_Dis_', {}).get('Edit') %}
                        <span class="permission-badge granted"><i class="fas fa-edit"></i> Edit</span>
                    {% endif %}
                    {% if permissions.get('Proj_Dis_', {}).get('Delete') %}
                        <span class="permission-badge granted"><i class="fas fa-trash"></i> Delete</span>
                    {% endif %}
                </div>
            </div>
            
            <div class="permission-module">
                <h5><i class="fas fa-tasks"></i> Tasks</h5>
                <div class="permissions-list">
                    {% if permissions.get('task', {}).get('View') %}
                        <span class="permission-badge granted"><i class="fas fa-eye"></i> View</span>
                    {% endif %}
                    {% if permissions.get('task', {}).get('Add') %}
                        <span class="permission-badge granted"><i class="fas fa-plus"></i> Add</span>
                    {% endif %}
                    {% if permissions.get('task', {}).get('Edit') %}
                        <span class="permission-badge granted"><i class="fas fa-edit"></i> Edit</span>
                    {% endif %}
                    {% if permissions.get('task', {}).get('Delete') %}
                        <span class="permission-badge granted"><i class="fas fa-trash"></i> Delete</span>
                    {% endif %}
                </div>
            </div>
        </div>
        
        {% if current_user.role == 'Admin' %}
        <div class="admin-note">
            <div class="alert alert-info">
                <i class="fas fa-crown"></i>
                <strong>Administrator Access:</strong> You have full access to all modules and features.
            </div>
        </div>
        {% endif %}
    </div>
</div>

<style>
.permissions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.permission-module {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border-left: 4px solid #007bff;
}

.permission-module h5 {
    margin: 0 0 15px 0;
    color: #2c3e50;
    display: flex;
    align-items: center;
    gap: 10px;
}

.permissions-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.permission-badge {
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 5px;
}

.permission-badge.granted {
    background: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.admin-note {
    margin-top: 30px;
}
</style>
{% endblock %}